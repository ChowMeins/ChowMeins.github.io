import{K as h,L as q,M as T,I as y,t as f,N as B,O as x,P as $,Q as w,B as C,S as G,R as V,T as Z,V as z,w as D,W as K,u as N,X as Q,Y as W,Z as X,_ as j,$ as F}from"./BDvz8xaw.js";import{s as H,g as J}from"./BnVq50DC.js";let b=!1,O=Symbol();function ne(e,r,a){const u=a[r]??(a[r]={store:null,source:y(void 0),unsubscribe:T});if(u.store!==e&&!(O in a))if(u.unsubscribe(),u.store=e??null,e==null)u.source.v=void 0,u.unsubscribe=T;else{var v=!0;u.unsubscribe=H(e,t=>{v?u.source.v=t:B(u.source,t)}),v=!1}return e&&O in a?J(e):f(u.source)}function ue(){const e={};function r(){h(()=>{for(var a in e)e[a].unsubscribe();q(e,O,{enumerable:!1,value:!0})})}return[e,r]}function k(e){var r=b;try{return b=!1,[e(),b]}finally{b=r}}function p(e){var r;return((r=e.ctx)==null?void 0:r.d)??!1}function ae(e,r,a,u){var L;var v=(a&F)!==0,t=!Z||(a&z)!==0,o=(a&K)!==0,M=(a&j)!==0,R=!1,_;o?[_,R]=k(()=>e[r]):_=e[r];var U=G in e||V in e,c=o&&(((L=x(e,r))==null?void 0:L.set)??(U&&r in e&&(n=>e[r]=n)))||void 0,s=u,S=!0,P=!1,m=()=>(P=!0,S&&(S=!1,M?s=N(u):s=u),s);_===void 0&&u!==void 0&&(c&&t&&$(),_=m(),c&&c(_));var l;if(t)l=()=>{var n=e[r];return n===void 0?m():(S=!0,P=!1,n)};else{var A=(v?D:C)(()=>e[r]);A.f|=w,l=()=>{var n=f(A);return n!==void 0&&(s=void 0),n===void 0?s:n}}if(!(a&Q))return l;if(c){var Y=e.$$legacy;return function(n,d){return arguments.length>0?((!t||!d||Y||R)&&c(d?l():n),n):l()}}var I=!1,g=y(_),i=D(()=>{var n=l(),d=f(g);return I?(I=!1,d):g.v=n});return o&&f(i),v||(i.equals=W),function(n,d){if(arguments.length>0){const E=d?f(i):t&&o?X(n):n;if(!i.equals(E)){if(I=!0,B(g,E),P&&s!==void 0&&(s=E),p(i))return n;N(()=>f(i))}return n}return p(i)?i.v:f(i)}}export{ne as a,ae as p,ue as s};
